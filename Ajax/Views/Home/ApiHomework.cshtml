@{
    ViewData["Title"] = "Homework";
}

<div id="travel" class="row">
    
</div>
@section Scripts
{
    <script src="~/js/travel.js"></script>
    <script>
        const rows = spots.CommonFormat.Section;
        const theUl = document.querySelector('#travel');
        
        const travelSpots = rows.map((row, index) => {
            var img = Array.isArray(row.file.img) ? row.file.img[0] : row.file.img;
            console.log(img);
            // 將每3個div放在一個row div中
            if (index % 3 === 0) {
                return `</div><div class="row"><div class="col" style="width:33.33%">
                        <div class="card h-100">
                            <img src="${img.text}" class="card-img-top" alt="">
                            <div class="card-body">
                                <h5 class="card-title">${row.stitle}</h5>
                                <p class="card-text">${row.xbody}</p>
                            </div>
                            <div class="card-footer">
                            </div>
                        </div>
                    </div>`;
            } else {
                return `<div class="col" style="width:33.33%">
                        <div class="card h-100">
                            <img src="${img.text}" class="card-img-top" alt="">
                            <div class="card-body">
                                <h5 class="card-title">${row.stitle}</h5>
                                <p class="card-text">${row.xbody}</p>
                            </div>
                            <div class="card-footer">
                            </div>
                        </div>
                    </div>`;
            }
        });

        theUl.innerHTML = travelSpots.join("") + '</div>'; // 關閉最後的row div
    </script>
}
@* @section Scripts
{

    <script src="~/js/travel.js"></script>
    <script>
        const rows = spots.CommonFormat.Section;
        const theUl = document.querySelector('#travel');
        //const liEmps = emps.map(emp => `<li>${emp.name},${emp.workYears},${emp.salary}</li>`);
        const travelSpots = rows.map(row => {
            var img = Array.isArray(row.file.img) ? row.file.img[0] : row.file.img;
            console.log(img);
            return `<div class="col" style="width:50%">
            <div class="card h-100">
                    <img src="${img.text}" class="card-img-top" alt="" >
            <div class="card-body">
            <h5 class="card-title">${row.stitle}</h5>
            <p class="card-text">${row.xbody}</p>
            </div>
            <div class="card-footer">
            </div>
            </div>
            </div>`;
            });
        theUl.innerHTML = travelSpots.join("");

        
        // const spot = spots.CommonFormat.Section
        // let image1 = spot[0].file.img[0].text
        // for (let i = 0, max = spot.length; i < max; i++) {
        //     console.log(spot[i].stitle)
        //     console.log(spot[i].xbody)
        //     console.log(spot[i].file.img.text)
        // }
        // console.log(spot)

    </script>
} *@